<div class="modal-header">
    <h3 class="modal-title">Shopper Application Status</h3>
</div>

<form name="searchForm" novalidate>
	<div class="modal-body">
		<div class="form-group">
			<label for="email" class="control-label">Shopper Email</label>
			<input type="text" name="email" id="email" placeholder="Email" class="form-control" ng-model="email" ng-readonly="searchSuccess">
		</div>

		<div ng-show="searchSuccess">
			<div class="form-group">
				<label for="status" class="control-label">Application Status</label>
				<input type="text" name="status" id="status" class="form-control" ng-model="applicant.status" ng-readonly="searchSuccess">
			</div>

			<div class="form-group">
				<label for="firstName" class="control-label">First Name</label>
				<span ng-show="searchForm.$submitted || searchForm.firstName.$touched">
			     	<span class="alert-danger" ng-show="searchForm.firstName.$error.required">Required Field</span>
				</span>
				<input type="text" name="firstName" id="firstName" placeholder="First Name" class="form-control" ng-model="applicant.firstName" required>
			</div>

			<div class="form-group">
				<label for="lastName">Last Name</label>
				<span ng-show="searchForm.$submitted || searchForm.lastName.$touched">
			     	<span class="alert-danger" ng-show="searchForm.lastName.$error.required">Required Field</span>
				</span>
				<input type="text" name="lastName" id="lastName" placeholder="Last Name" class="form-control" ng-model="applicant.lastName" required>
			</div>

			<div class="form-group">
				<label for="region">City</label>
				<span ng-show="searchForm.$submitted || searchForm.region.$touched">
			     	<span class="alert-danger" ng-show="searchForm.region.$error.required">Required Field</span>
				</span>
				<input type="text" name="region" id="region" placeholder="San Jose" class="form-control" ng-model="applicant.region" required>
			</div>

			<div class="form-group" ng-controller="PhoneValidationController">
				<label for="phone">Phone</label>
				<span ng-show="searchForm.$submitted || searchForm.phone.$touched">
			     	<span class="alert-danger" ng-show="searchForm.phone.$error.required">Required Field</span>
			     	<span class="alert-danger" ng-show="searchForm.phone.$invalid">Invalid Phone</span>
				</span>
				<input type="text" name="phone" id="phone" placeholder="(XXX) XXX XXXX" class="form-control" ng-model="applicant.phone"ng-required="requiredPhone" ng-pattern="phoneNumberPattern" required>
			</div>

			<div class="form-group">
				<label for="phoneType">Phone Type</label>
				<span ng-show="searchForm.$submitted || searchForm.phoneType.$touched">
			     	<span class="alert-danger" ng-show="searchForm.phoneType.$error.required">Required Field</span>
				</span>
				<select name="phoneType" id="phoneType" class="form-control" ng-model="applicant.phoneType" required>
					<option>Android Phone</option>
					<option>Apple iOS Phone</option>
					<option>Windows Phone</option>
					<option>Not a Smart Phone</option>
				</select>
			</div>

			<div class="checkbox">
				<label>
					<input type="checkbox" ng-model="applicant.over21">Older than 21 years
				</label>
	  		</div>
		</div>

		<span class="alert-success text-center" role="alert" ng-show="showMessage && updateSuccess">Successfully updated.</span>
		<span class="alert-danger text-center" role="alert" ng-show="showMessage && (!searchSuccess || !updateSuccess)">{{failureMessage}}</span>
	</div>

	<div class="modal-footer">
		<button class="btn btn-primary" type="button" ng-click="searchApplicant()" ng-show="!searchSuccess">Continue</button>
		<button class="btn btn-primary" type="button" ng-click="updateApplicant()" ng-show="searchSuccess" ng-disabled="!searchForm.$valid">Update</button>
		<button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
	</div>
</form>
